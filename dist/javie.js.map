{"version":3,"sources":["header.js","bundle.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"javie.js","sourcesContent":["/**\n * ========================================================================\n * Javie\n * ========================================================================\n *\n * @package Javie\n * @require underscore, console, jQuery/Zepto\n * @version 2.1.0\n * @author  Mior Muhammad Zaki <https://github.com/crynobone>\n * @license MIT License\n * ========================================================================\n */\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _helpers = require('./helpers');\n\nvar Util = _interopRequireWildcard(_helpers);\n\nvar _Config = require('./modules/config/Config.es6');\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _underscore = require('./vendor/underscore');\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Container = (function () {\n  function Container(name, instance) {\n    var shared = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n    var resolved = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\n    _classCallCheck(this, Container);\n\n    this.name = name;\n    this.instance = instance;\n    this.shared = shared;\n    this.resolved = resolved;\n  }\n\n  _createClass(Container, [{\n    key: 'resolving',\n    value: function resolving() {\n      var options = arguments.length <= 0 || arguments[0] === undefined ? [] : arguments[0];\n\n      if (this.isShared() && this.isResolved()) return this.instance;\n\n      var resolved = this.instance;\n\n      if (_underscore2.default.isFunction(resolved)) resolved = resolved.apply(this, options);\n\n      if (this.isShared()) {\n        this.instance = resolved;\n        this.resolved = true;\n      }\n\n      return resolved;\n    }\n  }, {\n    key: 'isResolved',\n    value: function isResolved() {\n      return this.resolved;\n    }\n  }, {\n    key: 'isShared',\n    value: function isShared() {\n      return this.shared;\n    }\n  }]);\n\n  return Container;\n})();\n\nvar Application = (function () {\n  function Application() {\n    var environment = arguments.length <= 0 || arguments[0] === undefined ? 'production' : arguments[0];\n\n    _classCallCheck(this, Application);\n\n    this.config = new _Config2.default();\n    this.environment = environment;\n    this.instances = {};\n  }\n\n  _createClass(Application, [{\n    key: 'detectEnvironment',\n    value: function detectEnvironment(environment) {\n      if (_underscore2.default.isFunction(environment)) environment = environment.apply(this);\n\n      return this.environment = environment;\n    }\n  }, {\n    key: 'env',\n    value: function env() {\n      return this.environment;\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      var defaults = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n      return this.config.get(key, defaults);\n    }\n  }, {\n    key: 'put',\n    value: function put(key, value) {\n      this.config.put(key, value);\n\n      return this;\n    }\n  }, {\n    key: 'on',\n    value: function on(name, callback) {\n      var events = this.make('event');\n      events.listen(name, callback);\n\n      return this;\n    }\n  }, {\n    key: 'emit',\n    value: function emit(name) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n      var events = this.make('event');\n      events.fire(name, options);\n\n      return this;\n    }\n  }, {\n    key: 'trigger',\n    value: function trigger(name) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n      return this.emit(name, options);\n    }\n  }, {\n    key: 'bind',\n    value: function bind(name, instance) {\n      this.instances[name] = new Container(name, instance);\n\n      return this;\n    }\n  }, {\n    key: 'make',\n    value: function make(name) {\n      var options = Util.array_make(arguments);\n      name = options.shift();\n\n      if (this.instances[name] instanceof Container) return this.instances[name].resolving(options);\n    }\n  }, {\n    key: 'singleton',\n    value: function singleton(name, instance) {\n      this.instances[name] = new Container(name, instance, true);\n\n      return this;\n    }\n  }, {\n    key: 'when',\n    value: function when(environment, callback) {\n      var env = this.environment;\n\n      if (env === environment || environment == '*') return this.run(callback);\n    }\n  }, {\n    key: 'run',\n    value: function run(callback) {\n      if (_underscore2.default.isFunction(callback)) return callback.call(this);\n    }\n  }]);\n\n  return Application;\n})();\n\nexports.default = Application;\n\n},{\"./helpers\":3,\"./modules/config/Config.es6\":4,\"./vendor/underscore\":10}],2:[function(require,module,exports){\n'use strict';\n\nvar _underscore = require('./vendor/underscore');\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _Application = require('./Application.es6');\n\nvar _Application2 = _interopRequireDefault(_Application);\n\nvar _Config = require('./modules/config/Config.es6');\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _Events = require('./modules/events/Events.es6');\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Log = require('./modules/log/Log.es6');\n\nvar _Log2 = _interopRequireDefault(_Log);\n\nvar _Profiler = require('./modules/profiler/Profiler.es6');\n\nvar _Profiler2 = _interopRequireDefault(_Profiler);\n\nvar _Request = require('./modules/request/Request.es6');\n\nvar _Request2 = _interopRequireDefault(_Request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = new _Application2.default();\n\napp.singleton('underscore', _underscore2.default);\n\napp.singleton('event', function () {\n  return new _Events2.default();\n});\n\napp.singleton('log', function () {\n  return _Log2.default;\n});\napp.singleton('log.writer', function () {\n  return new _Log2.default();\n});\n\napp.bind('config', function () {\n  var attributes = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  return new _Config2.default(attributes);\n});\n\napp.bind('profiler', function () {\n  var name = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n\n  return name != null ? new _Profiler2.default(name) : _Profiler2.default;\n});\n\napp.bind('request', function () {\n  var name = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n\n  return name != null ? new _Request2.default(name) : _Request2.default;\n});\n\nwindow.Javie = app;\n\n},{\"./Application.es6\":1,\"./modules/config/Config.es6\":4,\"./modules/events/Events.es6\":5,\"./modules/log/Log.es6\":6,\"./modules/profiler/Profiler.es6\":7,\"./modules/request/Request.es6\":8,\"./vendor/underscore\":10}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.array_make = array_make;\nexports.microtime = microtime;\nfunction array_make(args) {\n  return Array.prototype.slice.call(args);\n}\n\nfunction microtime() {\n  var seconds = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n  var time = new Date().getTime();\n  var ms = parseInt(time / 1000, 10);\n  var sec = (time - ms * 1000) / 1000 + \" sec\";\n\n  return seconds ? ms : sec;\n}\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _underscore = require('../../vendor/underscore');\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Configuration = (function () {\n  function Configuration() {\n    var attributes = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Configuration);\n\n    this.attributes = attributes;\n  }\n\n  _createClass(Configuration, [{\n    key: 'has',\n    value: function has(key) {\n      return !_underscore2.default.isUndefined(this.attributes[key]);\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      var defaults = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n      return this.has(key) ? this.attributes[key] : defaults;\n    }\n  }, {\n    key: 'put',\n    value: function put(key, value) {\n      var config = key;\n\n      if (!_underscore2.default.isObject(key)) {\n        config = {};\n        config[key] = value;\n      }\n\n      this.attributes = _underscore2.default.defaults(config, this.attributes);\n    }\n  }, {\n    key: 'all',\n    value: function all() {\n      return this.attributes;\n    }\n  }]);\n\n  return Configuration;\n})();\n\nexports.default = Configuration;\n\n},{\"../../vendor/underscore\":10}],5:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _underscore = require(\"../../vendor/underscore\");\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar dispatcher = null;\nvar events = {};\n\nvar Payload = (function () {\n  function Payload(id, callback) {\n    _classCallCheck(this, Payload);\n\n    this.id = id;\n    this.callback = callback;\n  }\n\n  _createClass(Payload, [{\n    key: \"getId\",\n    value: function getId() {\n      return this.id;\n    }\n  }, {\n    key: \"getCallback\",\n    value: function getCallback() {\n      return this.callback;\n    }\n  }]);\n\n  return Payload;\n})();\n\nvar Dispatcher = (function () {\n  function Dispatcher() {\n    _classCallCheck(this, Dispatcher);\n  }\n\n  _createClass(Dispatcher, [{\n    key: \"clone\",\n    value: function clone(id) {\n      return {\n        to: function to(_to) {\n          return events[_to] = _underscore2.default.clone(events[id]);\n        }\n      };\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(id, callback) {\n      if (!_underscore2.default.isFunction(callback)) throw new Error(\"Callback is not a function.\");\n\n      var response = new Payload(id, callback);\n\n      if (!_underscore2.default.isArray(events[id])) events[id] = [];\n\n      events[id].push(callback);\n\n      return response;\n    }\n  }, {\n    key: \"fire\",\n    value: function fire(id) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\n      if (id == null) throw new Error(\"Event ID [\" + id + \"] is not available.\");\n\n      return this.dispatch(events[id], options);\n    }\n  }, {\n    key: \"first\",\n    value: function first(id, options) {\n      if (id == null) throw new Error(\"Event ID [\" + id + \"] is not available.\");\n\n      var event = events[id].slice(0, 1);\n      var responses = this.dispatch(event, options);\n\n      return responses.shift();\n    }\n  }, {\n    key: \"until\",\n    value: function until(id, options) {\n      if (id == null) throw new Error(\"Event ID [\" + id + \"] is not available.\");\n\n      var responses = this.dispatch(events[id], options, true);\n\n      return responses.length < 1 ? null : responses.shift();\n    }\n  }, {\n    key: \"flush\",\n    value: function flush(id) {\n      if (!_underscore2.default.isNull(events[id])) events[id] = null;\n    }\n  }, {\n    key: \"forget\",\n    value: function forget(handler) {\n      var me = this;\n\n      if (!handler instanceof Payload) throw new Error(\"Invalid payload for Event ID [\" + id + \"]\");\n\n      var id = handler.getId();\n      var ref = handler.getCallback();\n\n      if (!_underscore2.default.isArray(events[id])) throw new Error(\"Event ID [\" + id + \"] is not available.\");\n\n      _underscore2.default.each(events[id], function (callback, key) {\n        if (ref == callback) {\n          events[id].splice(key, 1);\n        }\n      });\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(queued) {\n      var _this = this;\n\n      var options = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n      var halt = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\n      var responses = [];\n\n      if (!_underscore2.default.isArray(queued)) return null;\n\n      _underscore2.default.each(queued, function (callback, key) {\n        if (halt == false || responses.length == 0) {\n          var applied = callback.apply(_this, options);\n          responses.push(applied);\n        }\n      });\n\n      return responses;\n    }\n  }]);\n\n  return Dispatcher;\n})();\n\nvar Events = (function () {\n  function Events() {\n    _classCallCheck(this, Events);\n\n    return Events.make();\n  }\n\n  _createClass(Events, null, [{\n    key: \"make\",\n    value: function make() {\n      if (dispatcher == null) dispatcher = new Dispatcher();\n\n      return dispatcher;\n    }\n  }]);\n\n  return Events;\n})();\n\nexports.default = Events;\n\n},{\"../../vendor/underscore\":10}],6:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _helpers = require('../../helpers');\n\nvar Util = _interopRequireWildcard(_helpers);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar writer = null;\nvar enabled = false;\nvar level = {\n  ERROR: 'error',\n  WARNING: 'warning',\n  INFO: 'info',\n  DEBUG: 'debug',\n  LOG: 'log'\n};\n\nfunction _dispatch(type, message) {\n  if (enabled) return post(type, message);\n}\n\nfunction post(type, message) {\n  var c = console;\n\n  switch (type) {\n    case 'info':\n      c.info(message);\n      return true;\n    case 'debug' && c.debug != null:\n      c.debug(message);\n      return true;\n    case 'warning':\n      c.warn(message);\n      return true;\n    case 'error' && c.error != null:\n      c.error(message);\n      return true;\n    case 'log':\n      c.log(message);\n      return true;\n    default:\n      c.log('[' + type.toUpperCase() + ']', message);\n      return true;\n  }\n}\n\nvar Writer = (function () {\n  function Writer() {\n    _classCallCheck(this, Writer);\n\n    this.logs = [];\n  }\n\n  _createClass(Writer, [{\n    key: 'dispatch',\n    value: function dispatch(type, message) {\n      var result = _dispatch(type, message);\n      message.unshift(type);\n      this.logs.push(message);\n\n      return result;\n    }\n  }, {\n    key: 'info',\n    value: function info() {\n      return this.dispatch(level.INFO, Util.array_make(arguments));\n    }\n  }, {\n    key: 'debug',\n    value: function debug() {\n      return this.dispatch(level.DEBUG, Util.array_make(arguments));\n    }\n  }, {\n    key: 'warning',\n    value: function warning() {\n      return this.dispatch(level.WARNING, Util.array_make(arguments));\n    }\n  }, {\n    key: 'log',\n    value: function log() {\n      return this.dispatch(level.LOG, Util.array_make(arguments));\n    }\n  }, {\n    key: 'post',\n    value: function post(type, message) {\n      return this.dispatch(type, [message]);\n    }\n  }]);\n\n  return Writer;\n})();\n\nvar Log = (function () {\n  function Log() {\n    _classCallCheck(this, Log);\n\n    return Log.make();\n  }\n\n  _createClass(Log, null, [{\n    key: 'make',\n    value: function make() {\n      if (writer == null) writer = new Writer();\n\n      return writer;\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      enabled = true;\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      enabled = false;\n    }\n  }, {\n    key: 'status',\n    value: function status() {\n      return enabled;\n    }\n  }]);\n\n  return Log;\n})();\n\nexports.default = Log;\n\n},{\"../../helpers\":3}],7:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _helpers = require('../../helpers');\n\nvar Util = _interopRequireWildcard(_helpers);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar profilers = {};\nvar enabled = false;\n\nvar Schema = function Schema(id, type) {\n  var start = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\n  _classCallCheck(this, Schema);\n\n  if (start == null) start = Util.microtime();\n\n  this.id = id;\n  this.type = type;\n  this.start = start;\n  this.end = null;\n  this.total = null;\n  this.message = '';\n};\n\nvar Handler = (function () {\n  function Handler(name) {\n    _classCallCheck(this, Handler);\n\n    this.name = name;\n    this.logs = [];\n    this.pair = {};\n    this.started = Util.microtime();\n  }\n\n  _createClass(Handler, [{\n    key: 'time',\n    value: function time(id, message) {\n      if (!enabled) return null;\n\n      if (id == null) id = this.logs.length;\n\n      var log = new Schema(id, 'time');\n      log.message = message.toString();\n\n      var key = this.pair['time' + id];\n\n      if (typeof key != 'undefined') {\n        this.logs[key] = log;\n      } else {\n        this.logs.push(log);\n        this.pair['time' + id] = this.logs.length - 1;\n      }\n\n      console.time(id);\n\n      return id;\n    }\n  }, {\n    key: 'timeEnd',\n    value: function timeEnd(id, message) {\n      if (!enabled) return null;\n\n      if (id == null) id = this.logs.length;\n\n      var key = this.pair['time' + id];\n      var log = null;\n\n      if (typeof key != 'undefined') {\n        console.timeEnd(id);\n        log = this.logs[key];\n      } else {\n        log = new Schema(id, 'time', this.started);\n        if (typeof message != 'undefined') log.message = message;\n\n        this.logs.push(log);\n        key = this.logs.length - 1;\n      }\n\n      var end = log.end = Util.microtime();\n      var start = log.start;\n      var total = end - start;\n      log.total = total;\n      this.logs[key] = log;\n\n      return total;\n    }\n  }, {\n    key: 'trace',\n    value: function trace() {\n      if (enable) console.trace();\n    }\n  }, {\n    key: 'output',\n    value: function output() {\n      var auto = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\n      if (auto) enabled = true;\n\n      if (!enabled) return null;\n\n      this.logs.forEach(function (log) {\n        if (log.type == 'time') {\n          var sec = Math.floor(log.total * 1000);\n          console.log('%s: %s - %dms', log.id, log.message, sec);\n        } else {\n          console.log(log.id, log.message);\n        }\n      });\n    }\n  }]);\n\n  return Handler;\n})();\n\nvar Profiler = (function () {\n  function Profiler(name) {\n    _classCallCheck(this, Profiler);\n\n    return Profiler.make(name);\n  }\n\n  _createClass(Profiler, null, [{\n    key: 'make',\n    value: function make() {\n      var name = arguments.length <= 0 || arguments[0] === undefined ? 'default' : arguments[0];\n\n      if (profilers[name] == null) profilers[name] = new Handler(name);\n\n      return profilers[name];\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      enabled = true;\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      enabled = false;\n    }\n  }, {\n    key: 'status',\n    value: function status() {\n      return enabled;\n    }\n  }]);\n\n  return Profiler;\n})();\n\nexports.default = Profiler;\n\n},{\"../../helpers\":3}],8:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Events = require('../events/Events.es6');\n\nvar _Events2 = _interopRequireDefault(_Events);\n\nvar _Config = require('../config/Config.es6');\n\nvar _Config2 = _interopRequireDefault(_Config);\n\nvar _helpers = require('../../helpers');\n\nvar Util = _interopRequireWildcard(_helpers);\n\nvar _underscore = require('../../vendor/underscore');\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nvar _jquery = require('../../vendor/jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar dispatcher = _Events2.default.make();\nvar requests = {};\n\nfunction json_parse(data) {\n  if (_underscore2.default.isString(data)) {\n    try {\n      data = _jquery2.default.parseJSON(data);\n    } catch (e) {\n      data = null;\n    }\n  }\n\n  return data;\n}\n\nvar Handler = (function () {\n  function Handler() {\n    _classCallCheck(this, Handler);\n\n    this.executed = false;\n    this.response = null;\n    this.config = new _Config2.default({\n      name: '',\n      type: 'GET',\n      uri: '',\n      query: '',\n      data: '',\n      dataType: 'json',\n      id: '',\n      object: null,\n      headers: {},\n      beforeSend: function beforeSend() {},\n      onComplete: function onComplete() {},\n      onError: function onError() {}\n    });\n  }\n\n  _createClass(Handler, [{\n    key: 'get',\n    value: function get(key) {\n      var defaults = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n      return this.config.get(key, defaults);\n    }\n  }, {\n    key: 'put',\n    value: function put(key, value) {\n      return this.config.put(key, value);\n\n      return this;\n    }\n  }, {\n    key: 'addHeader',\n    value: function addHeader(key, value) {\n      var headers = this.config.get('headers', {});\n      headers[key] = value;\n      this.config.put({ headers: headers });\n\n      return this;\n    }\n  }, {\n    key: 'to',\n    value: function to(url, object) {\n      var dataType = arguments.length <= 2 || arguments[2] === undefined ? 'json' : arguments[2];\n      var headers = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n      var supported = ['POST', 'GET', 'PUT', 'DELETED'];\n\n      if (_underscore2.default.isUndefined(url)) throw new Error(\"Missing required URL parameter.\");\n\n      if (object == null) object = window.document;\n\n      var segment = url.split(' ');\n      var uri = url;\n      var type = this.config.get('type', 'POST');\n      var query = this.config.get('query', '');\n\n      if (segment.length == 1) {\n        uri = segment[0];\n      } else {\n        if (_underscore2.default.indexOf(supported, segment[0]) > -1) type = segment[0];\n\n        uri = segment[1];\n      }\n\n      if (type != 'GET') {\n        var queries = uri.split('?');\n\n        if (queries.length > 1) {\n          uri = queries[0];\n          query = queries[1];\n        }\n      }\n\n      uri = uri.replace(':baseUrl', this.config.get('baseUrl', ''));\n\n      this.config.put({\n        dataType: dataType,\n        object: object,\n        query: query,\n        type: type,\n        uri: uri,\n        headers: headers\n      });\n\n      var id = (0, _jquery2.default)(object).attr('id');\n\n      if (typeof id != 'undefined') this.config.put({ id: '#' + id });\n\n      return this;\n    }\n  }, {\n    key: 'execute',\n    value: function execute(data) {\n      var me = this;\n      var name = this.config.get('name');\n      var object = this.config.get('object');\n      var query = this.config.get('query');\n\n      if (!_underscore2.default.isObject(data)) {\n        data = (0, _jquery2.default)(object).serialize() + '&' + query;\n        if (data == '?&') data = '';\n      }\n\n      this.executed = true;\n\n      var payload = {\n        type: this.config.get('type'),\n        dataType: this.config.get('dataType'),\n        url: this.config.get('uri'),\n        data: data,\n        headers: this.config.get('headers', {}),\n        beforeSend: function beforeSend(xhr) {\n          me.fireEvent('beforeSend', name, [me, xhr]);\n        },\n        complete: function complete(xhr) {\n          data = json_parse(xhr.responseText);\n          status = xhr.status;\n          me.response = xhr;\n\n          if (!_underscore2.default.isUndefined(data) && data.hasOwnProperty('error')) {\n            me.fireEvent('onError', name, [data.errors, status, me, xhr]);\n            data.errors = null;\n          }\n\n          me.fireEvent('onComplete', name, [data, status, me, xhr]);\n        }\n      };\n\n      _jquery2.default.ajax(payload);\n\n      return this;\n    }\n  }, {\n    key: 'fireEvent',\n    value: function fireEvent(type, name, args) {\n      dispatcher.fire('Request.' + type, args);\n      dispatcher.fire('Request.' + type + ': ' + name, args);\n\n      var callback = this.config[type];\n\n      if (_underscore2.default.isFunction(callback)) callback.apply(this, args);\n    }\n  }]);\n\n  return Handler;\n})();\n\nvar RequestAttributes = {\n  baseUrl: null,\n  onError: function onError(data, status) {},\n  beforeSend: function beforeSend(data, status) {},\n  onComplete: function onComplete(data, status) {}\n};\n\nvar Request = (function () {\n  function Request(name) {\n    _classCallCheck(this, Request);\n\n    return Request.make(name);\n  }\n\n  _createClass(Request, null, [{\n    key: 'make',\n    value: function make() {\n      var name = arguments.length <= 0 || arguments[0] === undefined ? 'default' : arguments[0];\n\n      return Request.find(name);\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      var defaults = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n      if (!_underscore2.default.isUndefined(RequestAttributes[key])) return RequestAttributes[key];\n\n      return defaults;\n    }\n  }, {\n    key: 'put',\n    value: function put(key, value) {\n      var config = key;\n\n      if (!_underscore2.default.isObject(key)) {\n        config = {};\n        config[key] = value;\n      }\n\n      RequestAttributes = _underscore2.default.defaults(config, RequestAttributes);\n    }\n  }, {\n    key: 'find',\n    value: function find(name) {\n      var request = null;\n\n      if (_underscore2.default.isUndefined(requests[name])) {\n        request = new Handler();\n        request.put(_underscore2.default.defaults(request.config.all(), RequestAttributes));\n        request.put({ name: name });\n\n        return requests[name] = request;\n      }\n\n      request = requests[name];\n\n      if (!request.executed) return request;\n\n      var key = _underscore2.default.uniqueId(name + '_');\n      var child = new Handler();\n\n      dispatcher.clone('Request.onError: ' + name).to('Request.onError: ' + name);\n      dispatcher.clone('Request.onComplete: ' + name).to('Request.onComplete: ' + name);\n      dispatcher.clone('Request.beforeSend: ' + name).to('Request.beforeSend: ' + name);\n\n      child.put(request.config);\n\n      return child;\n    }\n  }]);\n\n  return Request;\n})();\n\nexports.default = Request;\n\n},{\"../../helpers\":3,\"../../vendor/jquery\":9,\"../../vendor/underscore\":10,\"../config/Config.es6\":4,\"../events/Events.es6\":5}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = jQuery;\n\n},{}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _;\n\n},{}]},{},[2]);\n\n//# sourceMappingURL=bundle.js.map\n"],"sourceRoot":"/source/"}